(this.webpackJsonpprouducts=this.webpackJsonpprouducts||[]).push([[14],{124:function(e,t,n){"use strict";n.r(t);var r=n(3),s=n(27),a=n(9),o=n(23),c=n(18),i=n.n(c),l=n(26),u=n(52),d=n.n(u),b=n(24),j=n(0),m=n(2),p=n(16);n(54);t.default=function(e){var t=d.a.create({baseURL:"http://phucnb-django-example.herokuapp.com/api/user/auth/login"}),n=Object(m.f)(),c=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/",w).then((function(e){var t=e.data.access,r=Object(b.a)(t);alert("submit thanh cong"),"admin"===r.role&&(n.push("/admin/user"),window.setTimeout(window.location.reload.bind(window.location),10)),"user"===r.role&&(n.push("/carts"),window.setTimeout(window.location.reload.bind(window.location),10)),localStorage.setItem("token",t)})).catch((function(e){console.log(e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=Object(j.useState)({username:"",password:""}),h=Object(o.a)(u,2),w=h[0],O=h[1],f=Object(j.useState)(!1),x=Object(o.a)(f,2),g=x[0],v=x[1],k=w.username,N=w.password;function S(e){var t=e.target,n=t.name,r=t.value;O((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(s.a)({},n,r))}))}return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("form",{id:"form-login",className:"form",onSubmit:function(e){e.preventDefault(),v(!0),k&&N&&(O(w),console.log(w),c())},children:[Object(r.jsx)("h2",{children:"Login With Us"}),Object(r.jsxs)("div",{className:"form-control"+(g&&!k?" error":" "),children:[Object(r.jsx)("label",{htmlFor:"username",children:"Username"}),Object(r.jsx)("input",{name:"username",value:k,onChange:S,type:"text",id:"username-login",placeholder:"Enter username"}),Object(r.jsx)("small",{children:"Error username !"})]}),Object(r.jsxs)("div",{className:"form-control"+(g&&!N?" error":" "),children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{name:"password",value:N,onChange:S,type:"password",id:"password-login",placeholder:"Enter password"}),Object(r.jsx)("small",{children:"Error password !"})]}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]}),Object(r.jsxs)("div",{className:"group",children:[Object(r.jsx)(p.b,{to:"/",className:"btn-link",children:"Back"}),Object(r.jsx)(p.b,{to:"/register",className:"btn-link",children:"Register"})]})]})}},54:function(e,t,n){}}]);
//# sourceMappingURL=14.1a246d01.chunk.js.map