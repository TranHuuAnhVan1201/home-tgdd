{"version":3,"sources":["app/actions/custommer/products/Product.js","app/components/custommer/body/carts/CartsDefault.js"],"names":["IDName","id","type","types","getProduct","addProductToCart","payload","deleteProductInCart","getIncrease_Quantity","getDecrease_Quantity","CartsDefault","props","listCarts","useSelector","state","GetCarts","useState","checkout","setCheckOut","role","setRole","history","useHistory","useEffect","localStorage","getItem","decoded","jwtDecode","dispatch","useDispatch","formatVND","str","String","split","reverse","reduce","prev","next","index","className","items","map","value","key","src","url","alt","title","onClick","decrease","actions","quantity","increase","price","parseInt","dot","replace","item","colSpan","totalPrice","to","push"],"mappings":"uGAAA,uNAEaA,EAAS,SAACC,GACnB,MAAO,CACHC,KAAMC,IACNF,OAIKG,EAAa,WACtB,MAAO,CACHF,KAAMC,MAKDE,EAAmB,SAACC,GAC7B,MAAO,CACHJ,KAAMC,IACNG,YAGKC,EAAsB,SAACD,GAChC,MAAO,CACHJ,KAAMC,IACNG,YAGKE,EAAuB,SAACF,GACjC,MAAO,CACHJ,KAAMC,IACNG,YAGKG,EAAuB,SAACH,GACjC,MAAO,CACHJ,KAAMC,IACNG,a,wHCuFOI,UApHf,SAAsBC,GAClB,IAAMC,EAAYC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,YADpB,EAEOC,oBAAS,GAFhB,mBAElBC,EAFkB,KAERC,EAFQ,OAGDF,mBAAS,MAHR,mBAGlBG,EAHkB,KAGZC,EAHY,KAIrBC,EAAUC,cACdC,qBAAU,WACN,GAAIC,aAAaC,QAAQ,SAAU,CAC/B,IAAIC,EAAUC,YAAUH,aAAaC,QAAQ,UAC7CL,EAAQM,EAAQP,SAErB,IACH,IAAMS,EAAWC,cAuBXC,EAAY,SAACC,GACf,GAAqB,kBAATA,EAER,OADYC,OAAOD,GACNE,MAAM,IAAIC,UAAUC,QAAO,SAACC,EAAMC,EAAMC,GACjD,OAASA,EAAQ,EAAKD,EAAQA,EAAO,KAAQD,MAKzD,OACI,kCACI,sBAAKG,UAAU,QAAf,UACI,oBAAIA,UAAU,cAAd,gDACA,qBAAKA,UAAU,eAAf,SACI,kCACI,gCACI,+BACI,0CACA,oDACA,yDACA,yCACA,oDACA,6CAGR,gCAEQ3B,EAAU4B,MAAMC,KAAI,SAACC,EAAOC,GACxB,OAEI,+BACI,6BAAI,qBAAKC,IAAKF,EAAMG,IAAKC,IAAK,QAE9B,6BAAKJ,EAAMK,QACX,qBAAIR,UAAU,WAAd,UACI,sBAAMS,QAAS,kBAnDhCC,EAmDwDN,OAlD/Ef,EAASsB,IAA6BD,IADhB,IAACA,GAmDiB,eACA,+BAAOP,EAAMS,WACb,sBAAMH,QAAS,kBAxDhCI,EAwDwDT,OAvD/Ef,EAASsB,IAA6BE,IADhB,IAACA,GAwDiB,kBAEJ,+BAAKV,EAAMW,MAAX,aACA,+BAAKvB,EAAUwB,UA5CpCC,EA4CuDb,EAAMW,MA3CrEE,EAAIC,QAAQ,MAAO,OA2C6Dd,EAAMS,UAAY,IAArE,aACA,oBAAIH,QAAS,kBA/DxBS,EA+DkDd,OA9D3Ef,EAASsB,IAA4BO,IADb,IAACA,GA+DW,sBAXKd,GAlC3B,IAACY,OAsDC,gCACI,+BACI,oBAAIG,QAAS,EAAb,mCAEA,+BAAK5B,EAAUlB,EAAU+C,YAAzB,aACA,iCAKhB,sBAAKpB,UAAU,YAAf,UACI,eAAC,IAAD,CAAMqB,GAAG,IAAIrB,UAAU,gBAAvB,UACI,mBAAGA,UAAU,+BADjB,qCAGA,eAAC,IAAD,CAAMqB,GAAG,YAAYrB,UAAU,oBAA/B,UACI,mBAAGA,UAAU,gCADjB,oBAKKtB,EAAa,cAAC,IAAD,IAAe,wBAAQsB,UAAU,oBAAoBS,QAlFlE,WACb7B,GACAD,GAAY,GACZG,EAAQwC,KAAK,YAGbxC,EAAQwC,KAAK,WA4E4B,uC","file":"static/js/7.d8abc0cd.chunk.js","sourcesContent":["import *as types from '../../../constants/ActionType';\r\n\r\nexport const IDName = (id) => {\r\n    return {\r\n        type: types.ID,\r\n        id\r\n    };\r\n};\r\n\r\nexport const getProduct = () => {\r\n    return {\r\n        type: types.GETPRODUCT\r\n    };\r\n};\r\n\r\n\r\nexport const addProductToCart = (payload) => {\r\n    return {\r\n        type: types.ADD_PRODUCT_TO_CART,\r\n        payload\r\n    };\r\n};\r\nexport const deleteProductInCart = (payload) => {\r\n    return {\r\n        type: types.DELETE_CART,\r\n        payload\r\n    };\r\n};\r\nexport const getIncrease_Quantity = (payload) => {\r\n    return {\r\n        type: types.INCREASE_QUANTITY,\r\n        payload\r\n    };\r\n};\r\nexport const getDecrease_Quantity = (payload) => {\r\n    return {\r\n        type: types.DECREASE_QUANTITY,\r\n        payload\r\n    };\r\n};\r\nexport const getTotal_Price = (payload) => {\r\n    return {\r\n        type: types.TOTAL_PRICE,\r\n        payload\r\n    }\r\n}\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport './carts.scss';\r\nimport *as actions from '../../../../actions/custommer/products/Product';\r\nimport PayPal from '../paypal/PayPal';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nfunction CartsDefault(props) {\r\n    const listCarts = useSelector(state => state.GetCarts);\r\n    const [checkout, setCheckOut] = useState(false);\r\n    const [role, setRole] = useState(null);\r\n    let history = useHistory();\r\n    useEffect(() => {\r\n        if (localStorage.getItem(\"token\")) {\r\n            var decoded = jwtDecode(localStorage.getItem(\"token\"));\r\n            setRole(decoded.role);            \r\n        }\r\n    }, []);\r\n    const dispatch = useDispatch();\r\n    const deleteProductInCart = (item) => {\r\n        dispatch(actions.deleteProductInCart(item));\r\n    }\r\n    const Increase_Quantity = (increase) => {\r\n        dispatch(actions.getIncrease_Quantity(increase));\r\n    }\r\n    const Decrease_Quantity = (decrease) => {\r\n        dispatch(actions.getDecrease_Quantity(decrease));\r\n    }\r\n    const handlePayPal = () => {\r\n        if (role) {\r\n            setCheckOut(true);\r\n            history.push('/paypal');\r\n        }\r\n        else {\r\n            history.push(\"/login\");\r\n        }\r\n    }\r\n    const removedot = (dot) => {\r\n        return dot.replace(/\\./g, \"\");\r\n    }\r\n\r\n    const formatVND = (str) => {\r\n        if (typeof (str) !== \"string\") {\r\n            let toStr = String(str);\r\n            return toStr.split('').reverse().reduce((prev, next, index) => {\r\n                return ((index % 3) ? next : (next + '.')) + prev\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section>\r\n            <div className=\"carts\">\r\n                <h2 className=\"text-center\">Giỏ hàng của bạn</h2>\r\n                <div className=\"cart-content\">\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Ảnh</th>\r\n                                <th>Sản phẩm</th>\r\n                                <th>Số lượng</th>\r\n                                <th>Giá </th>\r\n                                <th>Thành tiền</th>\r\n                                <th>Xóa</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                listCarts.items.map((value, key) => {\r\n                                    return (\r\n\r\n                                        <tr key={key}>\r\n                                            <td><img src={value.url} alt={123}></img>\r\n                                            </td>\r\n                                            <td>{value.title}</td>\r\n                                            <td className=\"td-group\">\r\n                                                <span onClick={() => Decrease_Quantity(key)}>-</span>\r\n                                                <span>{value.quantity}</span>\r\n                                                <span onClick={() => Increase_Quantity(key)}>+</span>\r\n                                            </td>\r\n                                            <td>{value.price} đ</td>\r\n                                            <td>{formatVND(parseInt(removedot(value.price)) * (value.quantity || 1))} đ</td>\r\n                                            <td onClick={() => deleteProductInCart(key)}>xóa</td>\r\n\r\n                                        </tr>\r\n                                    );\r\n\r\n                                })\r\n\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <td colSpan={4}>Tổng cộng: </td>\r\n\r\n                                <td>{formatVND(listCarts.totalPrice)} đ</td>\r\n                                <td></td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </div>\r\n                <div className=\"btn-carts\">\r\n                    <Link to=\"/\" className=\"btn-back link\">\r\n                        <i className=\"fas fa-long-arrow-alt-left\"></i>Tiếp tục mua sắm\r\n                    </Link>\r\n                    <Link to=\"/checkout\" className=\"btn-checkout link\">\r\n                        <i className=\"fas fa-long-arrow-alt-right\"></i> Thanh toán\r\n                    </Link>\r\n\r\n                    {\r\n                        (checkout) ? (<PayPal />) : (<button className=\"btn-checkout link\" onClick={handlePayPal}>CheckOut Paypal</button>)\r\n                    }\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n\r\n    );\r\n}\r\n\r\nexport default CartsDefault;"],"sourceRoot":""}