{"version":3,"sources":["app/components/admin/body/_user/USER.js","app/components/admin/body/_pagination/Pagination.js"],"names":["USER","props","api","axios","create","baseURL","useState","data","state","setState","edit","setEdit","add","setADD","submitted","setSubmitted","showFormADD","setShowFormADD","showFormEDIT","setShowFormEDIT","currentpage","setCurrentpage","postperpage","totalPages","setTotalPages","getUser","a","indexofFirstPost","indexofLastPost","get","then","arrPage","Post","slice","console","log","i","Math","ceil","parseInt","length","push","item","error","useEffect","createUser","post","deleteUser","id","delete","updateUser","put","handleChange","event","target","name","value","handleChangeADD","handleCancel","className","onClick","undefined","map","key","src","avatar","alt","createdAt","handleClickEDIT","onAddPage","page","setTimeout","onSubmit","preventDefault","type","onChange","placeholder","url","Pagination"],"mappings":"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","file":"static/js/6.e894e42a.chunk.js","sourcesContent":["\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Pagination from '../_pagination/Pagination';\r\nimport '../scss/HomeAdmin.scss';\r\nfunction USER(props) {\r\n  const api = axios.create({\r\n    baseURL: `https://5fec7ae2595e420017c2be4d.mockapi.io/productjs`,\r\n  });\r\n  const [state, setState] = useState({ data: [] });\r\n  const [edit, setEdit] = useState([]);\r\n  const [add, setADD] = useState([]);\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [showFormADD, setShowFormADD] = useState(false);\r\n  const [showFormEDIT, setShowFormEDIT] = useState(false);\r\n  \r\n  \r\n  const [currentpage, setCurrentpage] = useState(1);\r\n  // biến postperpage này như size dị...\r\n  //ví dụ danh sách 10 phần tử cho nó là 2 thì hiển thị danh sách 2 còn 8 phần tử kia phần trang ra 1,2,3,4,5\r\n  //gồm 5 trang hỏng tin thử đi\r\n\r\n  //trang có bao nhiêu phần tử.\r\n  const [postperpage, setPostperpage] = useState(5);\r\n  // biến totalPages này để set mảng chứa số trang bị cắt 1 2 3\r\n\r\n  // số lượng trang.\r\n  const [totalPages, setTotalPages] = useState([]);\r\n  const getUser = async () => {\r\n    //khai báo phần tử cuối\r\n    const indexofLastPost = currentpage * postperpage;\r\n    //khai báo phần tử đầu\r\n    const indexofFirstPost = indexofLastPost - postperpage;\r\n    try {\r\n      let data = await api.get(\"/\").then(({ data }) => data);\r\n      let arrPage = [];\r\n      const Post = data.slice(indexofFirstPost, indexofLastPost);\r\n      //                      1*2 = 2,            ,  2-2 = 0\r\n      // 0,1\r\n      // data => 2-> 8;\r\n      setState({ data: Post });\r\n      console.log(state);\r\n      // cắt danh sách mảng bằng slice phần tử đầu phần tử cuối\r\n      for (\r\n        let i = 1;\r\n        i <= Math.ceil(parseInt(data.length) / postperpage);\r\n        i++\r\n      ) {\r\n        arrPage.push({ item: i });\r\n      }\r\n      // rảnh log mảng arrPage ra xem...\r\n      // số lượng trang - li\r\n      setTotalPages(arrPage);\r\n      //setTotalPages là cái mảng bị cắt rồi đó a e.....\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  console.log(totalPages);\r\n  useEffect(() => {\r\n    getUser();\r\n    if (currentpage) {\r\n      getUser();\r\n    }\r\n  }, [currentpage]);\r\n  const createUser = async () => {\r\n    let res = await api.post(\"/\", add);\r\n    getUser();\r\n  };\r\n  const deleteUser = async (id) => {\r\n    let data = await api.delete(`/${id}`);\r\n    getUser();\r\n  };\r\n  const updateUser = async (id) => {\r\n    let data = await api.put(`/${id}`, edit);\r\n    getUser();\r\n  };\r\n  function handleClickEDIT(id, value) {\r\n    setShowFormEDIT(true);\r\n    setShowFormADD(false);\r\n    setEdit(value);\r\n  }\r\n  function handleClickADD(event) {\r\n    setShowFormADD(true);\r\n    setShowFormEDIT(false);\r\n  }\r\n  function handleChange(event) {\r\n    const { name, value } = event.target;\r\n    setEdit((edit) => ({ ...edit, [name]: value }));\r\n  }\r\n\r\n  function handleChangeADD(event) {\r\n    const { name, value } = event.target;\r\n    setADD((add) => ({ ...add, [name]: value }));\r\n  }\r\n  function handleSubmitADD(event) {\r\n    event.preventDefault();\r\n    setSubmitted(!submitted);\r\n    createUser();\r\n  }\r\n  function handleSubmitEDIT(event) {\r\n    event.preventDefault();\r\n    setSubmitted(!submitted);\r\n    setEdit(edit);\r\n    updateUser(edit.id, edit);\r\n  }\r\n  const onAddPage = (page) => {\r\n    setTimeout(function () {\r\n      setCurrentpage(page);\r\n    }, 1000);\r\n  };\r\n  function handleCancel() {\r\n    setSubmitted(false);\r\n    setShowFormADD(false);\r\n    setShowFormEDIT(false);\r\n  }\r\n\r\n  return (\r\n    <section className=\"home-admin\">\r\n      <div className=\"home-user home-right\">\r\n        <div className=\"col-12\">\r\n          <span className=\"btn add\" onClick={handleClickADD}>\r\n            Thêm tài khoản\r\n          </span>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"table\">\r\n            <table className=\"col-auto\">\r\n              <thead className=\"title\">\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>IMG AVATA</th>\r\n                  <th>NAME</th>\r\n                  <th>CREATED</th>\r\n                  <th>PERFORM</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {state.data !== undefined\r\n                  ? state.data.map((value, key) => {\r\n                      return (\r\n                        <tr key={key}>\r\n                          <td>{value.id}</td>\r\n                          <td>\r\n                            <img src={value.avatar} alt={123} />\r\n                          </td>\r\n                          <td>{value.name}</td>\r\n                          <td>{value.createdAt}</td>\r\n                          <td className=\"td-group\">\r\n                            <span\r\n                              className=\"btn delete\"\r\n                              onClick={() => deleteUser(value.id)}\r\n                            >\r\n                              Xóa\r\n                            </span>\r\n                            <span\r\n                              className=\"btn edit\"\r\n                              onClick={() => handleClickEDIT(value.id, value)}\r\n                            >\r\n                              Sửa\r\n                            </span>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </tbody>\r\n            </table>\r\n            <Pagination onAddPage={onAddPage} totalPages={totalPages} />\r\n          </div>\r\n          <div\r\n            className={\r\n              \"col-4 form\" + (showFormEDIT || showFormADD ? \"\" : \" is-invalid\")\r\n            }\r\n          >\r\n            <form\r\n              className={\"form-add show\" + (showFormADD ? \" \" : \" is-invalid\")}\r\n              onSubmit={handleSubmitADD}\r\n            >\r\n              <h2>ADD USER</h2>\r\n              <input\r\n                type=\"text\"\r\n                name=\"id\"\r\n                value={add.id}\r\n                onChange={handleChangeADD}\r\n                placeholder=\"Enter Username\"\r\n              ></input>\r\n              <input\r\n                type=\"text\"\r\n                name=\"url\"\r\n                value={add.url}\r\n                onChange={handleChangeADD}\r\n                placeholder=\"Enter IMG Name\"\r\n              ></input>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={add.name}\r\n                onChange={handleChangeADD}\r\n                placeholder=\"Enter FULL Name\"\r\n              ></input>\r\n              <input\r\n                type=\"text\"\r\n                name=\"createdAt\"\r\n                value={add.createdAt}\r\n                onChange={handleChangeADD}\r\n                placeholder=\"Enter CREATED\"\r\n              ></input>\r\n              <button className=\"submit\">SUBMIT ADD</button>\r\n              <button className=\"submit\" onClick={handleCancel}>\r\n                Cancel\r\n              </button>\r\n            </form>\r\n            <form\r\n              className={\r\n                \"form-edit show\" + (showFormEDIT ? \" \" : \" is-invalid\")\r\n              }\r\n              onSubmit={handleSubmitEDIT}\r\n            >\r\n              <h2>EDIT USER</h2>\r\n              <input\r\n                type=\"text\"\r\n                name=\"id\"\r\n                value={edit.id}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter Username\"\r\n              ></input>\r\n              <input\r\n                type=\"text\"\r\n                name=\"url\"\r\n                value={edit.url}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter IMG Name\"\r\n              ></input>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={edit.name}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter FULL Name\"\r\n              ></input>\r\n              <input\r\n                type=\"text\"\r\n                name=\"createdAt\"\r\n                value={edit.createdAt}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter CREATED\"\r\n              ></input>\r\n              <button className=\"submit\">SUBMIT EDIT</button>\r\n              <button className=\"submit\" onClick={handleCancel}>\r\n                Cancel\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default USER;","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from 'react';\r\nimport '../_pagination/Pagination.scss';\r\nfunction Pagination(props) {\r\n    let { totalPages, onAddPage } = props;\r\n    return (\r\n        <nav className=\"navigation\">\r\n            <ul className=\"pagination\">\r\n                {   \r\n                    totalPages.map.length > 0 ? totalPages.map((value, key) => {\r\n                        return (\r\n                            <li onClick={() => onAddPage(value.item)} className=\"page-item\">\r\n                                <span className=\"page-link\">\r\n                                    {value.item}\r\n                                </span>\r\n                            </li>\r\n                        )\r\n                    }) : null\r\n                }\r\n            </ul>\r\n        </nav>\r\n\r\n    );\r\n}\r\n\r\nexport default Pagination;"],"sourceRoot":""}